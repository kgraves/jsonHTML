<!--
    This example produces the same html as what is in example.html, but quite possibly could be more difficult 
    to understand. One thing to notice here, is that this code is utilizing the more advanced features of jsonHTML,
    and is written in a more functional programming way. Notice how in order to manipulate the json objects in
    a more functional programming style, you have to call $jConstruct, so it can construct an object for you so 
    you can do some more interesting manipulations like function chaining.
    
    To some, there may be a more practical learning curve utilizing jsonHTML in this way, and it does seem to open
    the doors to more creative and reuseable code for future projects.
    
    Have Fun!
-->

<html>
    <head>
        <title>jsonHTML EXAMPLE!</title>
        <script type='text/javascript' src='http://code.jquery.com/jquery-1.10.2.min.js'></script> <!--MAKE SURE TO INCLUDE JQUERY!!-->
        <script type='text/javascript' src='jsonHTML.js'></script>
        <script>
            function mDiv(element) { //this is how you can create a div which is mutable, on an action, this object can become another html object.
                var tmp = $jConstruct('div', { //calling $jConstruct, allows you to construct a json HTML object, then manipulate it.
                    'id': element.id,
                    'text': element.text,
                }).addFunction(element.css).addFunction(element.event); //look, there chainable!
                if(element.children) {
                    tmp.children = element.children;
                }
                return tmp;
            }

            function mTxt(element) { //this is how you can create a div which is mutable, on an action, this object can become another html object.
                var tmp = $jConstruct('textbox', { //calling $jConstruct, allows you to construct a json HTML object, then manipulate it.
                    id: element.id,
                    text: element.text
                }).addFunction(element.css).addFunction(element.event); //look, there chainable!
                if(element.children) {
                    tmp.children = element.children;
                }
                return tmp;
            }
            
            var jsonHTMLObj = function(data) {
                var tmp = $jConstruct('div', {
                    id: 'thisIsDivStuff' + data.indx,
                    class: 'divStuff',
                    text: '<h2>'+'HELLO WORLD!'+'</h2>',
                }).addFunction(function () { //add a function with chaining!
                    $('#thisIsDivStuff'+data.indx).css({ //set the css styling using jQuery! Or any other functions you would like!
                        'width': '50%',
                        'border': '1px solid black',
                        'text-align': 'center',
                    });
                }).addChild(function () { //add a child object with chaining!
                    var tmp0 = $jConstruct('div', {
                        //id: 'thisISDivStuffChild0', //notice how if this object is not later manipulated in code, I can simply ignore adding an ID, jsonHTML will make one on its own!
                        text: 'Hello World From Child 0',
                    }).addFunction(function () {
                        $('#thisIsDivStuffChild0').css({
                            'width': '50%',
                            'border': '1px solid black',
                            'text-align': 'center',
                        });
                    });
                    return tmp0;
                }).addChild(mDiv({ //add a child in which is actually a function that outputs the required json object!
                    id: 'thisIsDivStuffChild1',
                    text: 'Hello World From Child 1 <-- Click me!',
                    css: function () {
                        $('#thisIsDivStuffChild1').css({
                            'width': '50%',
                            'border': '1px solid black',
                            'text-align': 'center',
                        });
                    },
                    event: function () { //event property is simply added to the mDiv as a function to be executed later.
                        $('#thisIsDivStuffChild1').click(function() { //mutate on the click!
                            $('#thisIsDivStuffChild1').remove(); //remove the old
                            appendHTML(mTxt({ //in with the new!
                                id: 'thisIsDivStuffChild1',
                                text: 'Hello World From Child 1',
                                css: function() {
                                    $('#thisIsDivStuffChild1').css({
                                        'color': 'purple',
                                    })
                                },
                                event: function () { //event property is simply added to the mDiv as a function to be executed later.
                                    $('#thisIsDivStuffChild1').blur(function() { //when you click away from the textbox, it goes back to original!
                                        $('#thisIsDivStuffChild1').remove();
                                        appendHTML(jsonHTMLObj(data).children[1], 'thisIsDivStuff'+data.indx); // I can just grab the original object, like recursion!
                                    });
                                    $('#thisIsDivStuffChild1').focus(); //so you will be in the text box.
                                },
                            }), 'thisIsDivStuff'+data.indx);
                        });
                    },
                }));
                return tmp;
            }

            $(document).ready(function () {
                appendHTML(jsonHTMLObj({ //now just append it to any div!
                    indx: 1, //these are properties that you can set to your template object.
                }), 'root');
            });
            
        </script>
    </head>
        <body>
            <div id='root'></div>
        </body>
</html>

<!--
    Disclaimer: jsonHTML is provided to you as Free Software (refer to: gnu.org/philosophy/free-sw.html ), 
    by using this code you agree not to hold me responsible for any damages, or consequences of your 
    malicious or "friendly" use of this code. This code is provided with no warranties, or guarantees, 
    all I ask is you retain credit back to me if you use my code.
-->